<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="jp.arise.com.dao.COMGM003Dao">
    <resultMap id="resultCOMGM003Dto" type="jp.arise.com.dto.COMGM003Dto">
        <result column="username" property="user"/>
        <result column="userid" property="userId"/>
    </resultMap>

    <select id="getUser" resultMap="resultCOMGM003Dto">
        SELECT username
        FROM test
        WHERE userId = #{user_id}
    </select>

    <select id="getSyainDt" resultMap="resultCOMGM003Dto">
        SELECT username
        FROM syain_dt
        <where>
			<if test="syainId != null">
				AND syainId like #{syain_id} || '%'
			</if>

			<if test="seinengappiFrom != null">
				AND seinengappiFrom like #{seinengappi_from} || '%'
			</if>

			<if test="seinengappiTo != null">
				AND seinengappiTo like #{seinengappi_to} || '%'
			</if>

			<if test="previous != null">
				AND previous like #{previous} || '%'
			</if>

			<if test="psition != null">
				AND psition like #{psition} || '%'
			</if>

			<if test="nyusyabiFrom != null">
				AND nyusyabiFrom like #{nyusyabi_from} || '%'
			</if>

			<if test="nyusyabiTo != null">
				AND nyusyabiTo like #{nyusyabi_to} || '%'
			</if>

			<if test="teamNa != null">
				AND teamNa like #{team_na} || '%'
			</if>

			<if test="genbaNa != null">
				AND genbaNa like #{genba_na} || '%'
			</if>

			<if test="phase != null">
				AND phase like #{phase} || '%'
			</if>

			<if test="tanka != null">
				AND tanka like #{tanka} || '%'
			</if>

			<if test="moyori1Station != null">
				AND moyori1Station like #{moyori_eki_1} || '%'
			</if>

			<if test="moyori2Station != null">
				AND moyori2Station like #{moyori_eki_2} || '%'
			</if>

			<if test="moyori3Station != null">
				AND moyori3Station like #{moyori_eki_3} || '%'
			</if>

			<if test="address != null">
				AND address like #{address} || '%'
			</if>
        </where>

    </select>

    <select id="getGenbaDt" resultMap="resultCOMGM003Dto">
        SELECT username
        FROM genba_dt
        <where>

			<if test="genbaNa != null">
				AND genbaNa like #{genba_na} || '%'
			</if>

			<if test="phase != null">
				AND phase like #{phase} || '%'
			</if>

			<if test="moyori1Station != null">
				AND moyori1Station like #{moyori_eki_1} || '%'
			</if>

			<if test="moyori2Station != null">
				AND moyori2Station like #{moyori_eki_2} || '%'
			</if>

			<if test="moyori3Station != null">
				AND moyori3Station like #{moyori_eki_3} || '%'
			</if>

			<if test="address != null">
				AND address like #{address} || '%'
			</if>

        </where>

    </select>

</mapper>